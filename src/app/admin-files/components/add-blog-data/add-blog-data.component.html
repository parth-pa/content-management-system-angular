<div class="card">
  <form class="k-form" [formGroup]="blogForm" (ngSubmit)="onclick()">
    <i
      class="fa-solid fa-xmark close-btn"
      kendoButton
      type="button"
      mat-dialog-close
      (click)="clearForm()"
    >
    </i>
    <h1>Add Data</h1>
    <kendo-formfield>
      <kendo-label text="Heading"></kendo-label>
      <kendo-textbox
        formControlName="title"
        [ngModel]="updateData.title"
        [clearButton]="true"
        #title
        required
      ></kendo-textbox>

      <kendo-formerror *ngIf="blogForm.controls.title.errors?.['required']"
        >Error: Heading is required</kendo-formerror
      >
    </kendo-formfield>

    <kendo-formfield>
      <kendo-label text="Description"></kendo-label>
      <kendo-editor
        formControlName="description"
        [(ngModel)]="updateData.description"
        #description
        required
      >
      </kendo-editor>
      <kendo-formerror
        *ngIf="blogForm.controls.description.errors?.['required']"
        >Error: Description is required</kendo-formerror
      >
    </kendo-formfield>

    <!-- <kendo-formfield>
      <kendo-label text="Image"></kendo-label>

      <kendo-upload
        formControlName="image"
        (change)="onchange($event)"
        [(ngModel)]="updateData.image"
      >
      </kendo-upload>
    </kendo-formfield> -->
    <div class="file_upload">
      <label>Image</label>
      <input
        class="form-control inputFile"
        formControlName="image"
        type="File"
        (change)="onchange($event)"
      />
      <img class="imgshow" [src]="img" alt="" />
    </div>

    <!-- <kendo-formfield>
      <kendo-label text="preference"></kendo-label>
      <kendo-dropdownlist [data]="topic" #preference required>
        <ng-template>
          {{ name }}
        </ng-template>
      </kendo-dropdownlist>
      <kendo-formerror
        *ngIf="blogForm.controls.subPreferenceId.errors?.['required']"
        >Error: preference is required</kendo-formerror
      >
    </kendo-formfield> -->

    <div class="dropdown" >
      <Label>Category : </Label>
      <select
        [(ngModel)]="updateData.subPreferenceId"
        style="color: black"
        name="blog"
        id="blog"
        formControlName="subPreferenceId"
      >
        <option
          [(ngModel)]="updateData.prefId"
          value="{{ i.id }}"
          *ngFor="let i of topic"
        >
          {{ i.name }}
        </option>
      </select>
    </div>
    <br />

    <div class="k-form-buttons">
      <button
        class="submitBtn"
        kendoButton
        themeColor="primary"
        mat-dialog-close
        type="submit"
        (click)="sendCmsData()"
        [disabled]="blogForm.invalid"
        [ngClass]="{ submitBtn: buttonpress }"
      >
        Submit
      </button>

      <button
        class="btn btn-primary updateBtn"
        mat-dialog-close
        themeColor="primary"
        type="submit"
        (click)="updateCmsData()"
        [disabled]="blogForm.invalid"
        [ngClass]="{ updateBtn: !buttonpress }"
      >
        Update
      </button>
    </div>
  </form>
</div>
